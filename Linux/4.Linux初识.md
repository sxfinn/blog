## Linux课程目标

1. Linux基本入门(环境安装，命令行操作，开发工具的认识)
2. Linux系统编程(20ˇ25)(进程+文件系统+内存)【部分】
3. Linux网络编程(20~25)（网络原理的所有内容）
4. MySQL(1012)(Linux:环境，命令行+工具)



### 指令操作

---

既然指令操作使用成本高，那么为什么要学指令操作呢？现在已经有了那么精致便捷的图形化界面，为什么还要用麻烦的指令操作呢？相信这是很多朋友刚刚接触linux时都会发出的疑问。

这要从操作系统的历程说起，图形化界面不是操作系统一诞生就有的，所有的操作系统，一开始的时候都只支持指令操作，图形化界面的诞生是为了用户更方便、便捷而设计出来的，没错这确实是让我们使用计算机的成本变低了，但却让我们忽略了图形化界面之下的原理。

当然，指令操作对于非专业技术人员不是必须的，甚至对于专业技术人员也不是**必需**，但是对于学习OS原理，指令操作是必要的，这对于OS的学习者来说意义非凡。

通过一些专业人员的操作可以看到，顶尖技术的大佬们貌似很少使用鼠标，而是五指游走在键盘上就可以完成许多操作，并且非常快速。的确，鼠标是后来出现的，在图形化界面出现之前都是依靠指令完成对计算机的操作。

然而图形化界面的操作实际上还是指令操作，经过层层包装，通过视觉传达给我们，让我们感觉更直观、清晰，而不是再是一行行的指令生硬地呈现在我们面前。不过，也正是图形化界面是指令操作套了一层“外壳”，离OS也就更远，因此学习OS原理，学习指令是更好的选择，**指令距离OS更近，便于我们更好的掌握OS**。



### 创建用户

---

首先用**root**用户登陆系统，但一般不建议在root下使用，可以新建一个用户。

```
# 查看系统信息
uname -a
uname -r
# 新建用户
adduser sx  
# 设置密码
passwd sx
# 删除用户
userdel -r sx
```



### Linux基本指令

---

下面介绍一些基本的指令，粗体的选项是最常用的，属于要记忆的。

#### ls 指令

**语法**： ls [选项] [目录或文件]

**功能**：对于目录，该命令列出**该目录下**的所有子目录与文件。对于文件，将列出文件名以及其他信息。

**常用选项**：

> **-a 列出目录下的所有文件，包括以 . 开头的隐藏文件**。
>
> -d 将目录象文件一样显示，而不是显示其下的文件。 如：ls –d 指定目录
>
> -i 输出文件的 i 节点的索引信息。 如 ls –ai 指定文件
>
> -k 以 k 字节的形式表示文件的大小。ls –alk 指定文件
>
> **-l 列出文件的详细属性信息**。
>
> -n 用数字的 UID,GID 代替名称。 （介绍 UID， GID）
>
> **-F 在每个文件名后附上一个字符以说明该文件的类型，“*”表示可执行的普通文件；“/”表示目录；“@”表**
>
> 示符号链接；“|”表示FIFOs；“=”表示套接字(sockets)。（目录类型识别）
>
> -r 对目录反向排序。
>
> -t 以时间排序。
>
> -s 在l文件名后输出该文件的大小。（大小排序，如何找到目录下最大的文件）
>
> -R 列出所有子目录下的文件。(递归)
>
> -1 一行只输出一个文件。

```shell
ls -al
```

**一个问题**：空目录是否占据磁盘空间？

在我们熟悉的Win10上，当我们查看目录（文件夹）属性时，如果是空目录，大小显示的是0kb，可真的如此吗？

相信你也注意到了，这个显示给我们的0kb就是其属性信息，我们想要获取信息，那也必须得有地方保存其信息，属性信息的数据就保存在磁盘中。目录下的确是空的，但是即使是空目录，也会保存着其**属性信息**，例如：大小，创建时间，修改时间等等。

**所以，答案是肯定的，空目录的文件属性信息也是数据，被保存在磁盘中，占据磁盘空间**。

任何文件有两部分组成：

1. **文件内容**
2. **文件属性**

无论是学过的文件操作还是将要学习的文件操作，无非就是两类操作：

1. **对文件内容进行操作**
2. **对文件属性进行操作**



使用ls - a命令时，可以看到在任意目录下，都存在着两个隐藏文件 ：

* . 当前目录
* .. 上级目录

**..可以让我们进入上级目录，. 当前路径有什么用呢**？

通常对于可执行程序，例如a.out，我们想要执行它就必须输入./a.out才可以。



#### pwd命令

**语法**: pwd

**功能**：显示用户当前所在的目录路径

pwd的用法很简单，就是打印出当前路径，并且没有选项。

唯一需要注意的是Linux下的路径分隔符是/，而Windows下的路径分隔符是\。



#### cd 指令
Linux系统中，磁盘上的文件和目录被组成一棵目录树，每个节点都是目录或文件。

![](https://pic.xinsong.xyz/img/202208172356384.png)

**语法**: cd 目录路径

**功能**：改变工作目录。将当前工作目录改变到指定的目录下。

**举例**：

```shell
cd .. # 返回上级目录
cd /home/litao/linux/ # 绝对路径
cd ../day02/ # 相对路径
cd ~ # 进入当前用户家目录，即用户登录时的初始目录
cd - # 返回上一个访问的目录
```

说到cd 命令就一定要说几个概念：

1. /根目录：整个目录树的根目录。
2. 绝对路径：某个目录相对于/根目录的路径。
3. 相对路径：某个目录相对于当前目录的路径。



要改变工作目录，那么就需要对新目录进行定位，有两种方式：1. 绝对路径   2. 相对路径。

Linux目录结构本质是一棵多叉树，通过二叉树的性质可以类比出多叉树的性质，那就是每一个**节点的绝对路径是唯一的**（每个节点都有唯一的父节点）。

相对路径就不存在这种说法了，因为对于不同的工作目录，相同的目录相对于当前目录的路径都是不同的。



例如，有如下目录结构：

/home/sx/test1/test2

无论是home、sx、test1、test2中哪一个目录，它们相对于根目录的路径都是唯一的、确定的。

当我们想用相对路径对test2进行定位，如果在test1目录下，其相对路径为./test2，如果在sx目录下，其相对路径为./test1/test2，就和物理学当中的参考系一样，参考系的选取的不同会影响研究对象的坐标，即使研究对象的位置并没有发生改变。

不只是linux如此，只要是目录树其本质都是一棵多叉树。



如果是日常使用，推荐使用相对路径，方便快捷。

如果是进行添加配置文件之类的，推荐使用绝对路径，不会出错。



**目录树的性质**：

> Linux入口目录是/根目录，使用cd ..回退到/根目录的时候，就不能再进行回退了。
>
> 目录树多叉树结构，那么每个子节点，既可以是一个目录（放有新的根目录或者普通文件，递归定义），也可以是普通文件。
>
> 目录树的叶子节点，一定是一个普通文件或者空目录。



#### touch指令

**语法**:touch [选项]... 文件...

**功能**：touch命令参数可更改文档或目录的日期时间，包括存取时间和更改时间，或者新建一个不存在的文件。

**常用选项**：

> -a 或--time=atime或--time=access或--time=use只更改存取时间。
>
> -c 或--no-create 不建立任何文档。
>
> -d 使用指定的日期时间，而非现在的时间。
>
> -f 此参数将忽略不予处理，仅负责解决BSD版本touch指令的兼容性问题。
>
> -m 或--time=mtime或--time=modify 只更改变动时间。
>
> -r 把指定文档或目录的日期时间，统统设成和参考文档或目录的日期时间相同。
>
> -t 使用指定的日期时间，而非现在的时间>

touch指令目前只需要了解其一个用法，即创建一个普通文件（普通文件一定是目录树结构的叶子节点）。

```shell
touch test.c
```



#### mkdir指令（重要）

**语法**：mkdir [选项] dirname...

**功能**：在当前目录下创建一个名为 “dirname”的目录

**常用选项**：

> **-p,  可以是一个路径名称。此时若路径中的某些目录尚不存在,加上此选项后,系统将自动建立好那些尚不存在的目录,即一次可以建立多个目录**

```shell
mkdir sx # 创建一个目录
mkdir -p sx/code/2022/8_18 # 创建一串路径
```



#### rmdir指令 & rm 指令（重要)

**rmdir是一个与mkdir相对应的命令。mkdir是建立目录，而rmdir是删除命令**。

**语法**：rmdir [-p] [dirName]

**适用对象**：具有当前目录操作权限的所有使用者

**功能**：删除空目录

**常用选项**：

> -p 删除一串路径中的空目录，如果当子目录被删除后如果父目录也变成空目录的话，就连带父目录一起删除，否则会报错。

```shell
rmdir -p /home/sx/code/2022 # 如果2022目录为空，则删除，删除后如果其父目录code也变成空目录，就删除code，递归地进行删除
```



**rm命令可以同时删除文件或目录**

 **语法**：rm [-f-i-r-v] [dirName/dir]

**适用对象**：所有使用者

**功能**：删除文件或目录

**常用选项**：

> **-f 即使文件属性为只读(即写保护)，亦直接强制删除**
>
> **-i 删除前逐一询问确认**
>
> **-r 删除目录及其下所有文件**

```shell
rm -rf code # 强制递归地删除code目录
```

